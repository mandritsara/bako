<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Malagasy–Tsimihety Lesson {{LESSON_NUMBER}}: {{LESSON_TITLE}}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/styles.css" />
  <style>
    .sup { font-size: .75em; vertical-align: super; }
    .term { font-weight: 700; letter-spacing: .2px; }
    .mini { font-size: .95rem; color: #555; }
    .example { background: #f8f9fa; border-left: 4px solid #dee2e6; padding: .75rem 1rem; border-radius: .5rem; }
    .sidebar-box { background: #f8f9fa; border-radius: .5rem; padding: 1rem; height: 100%; }
    .vocab td { vertical-align: top; padding: .4rem .6rem; }
    .audio-note { font-size: .9rem; color: #666; }
  </style>
</head>

<body>
  <div id="header"></div>

  <div class="container mt-4 mb-5">
    <div class="row justify-content-center">
      <div class="col-lg-9">
        <h1 class="mb-4">Lesson {{LESSON_NUMBER}}: {{LESSON_TITLE}}</h1>

        <p class="mini">Malagasy–Tsimihety with Bako</p>

        <div class="text-center mb-4">
          <a href="{{PDF_LINK}}" class="btn btn-outline-primary btn-sm" download>⬇️ Download PDF</a>
        </div>

        <!-- Section 1 -->
        <div class="mb-5">
          <h3>{{SECTION1_TITLE}}</h3>
          <p>{{SECTION1_TEXT}}</p>
        </div>
        <audio controls class="w-100 mb-3">
          <source src="{{AUDIO_SEC1_1}}" type="audio/mpeg" />
        </audio>

        <!-- Section 2 -->
        <div class="mb-5">
          <h3>{{SECTION2_TITLE}}</h3>
          <p>{{SECTION2_TEXT}}</p>
        </div>
        <audio controls class="w-100 mb-3">
          <source src="{{AUDIO_SEC2_1}}" type="audio/mpeg" />
        </audio>

        <!-- Vocabulary Table -->
        <div class="mb-5">
          <h3>Vocabulary</h3>
          <table class="table table-bordered vocab">
            {{VOCAB_TABLE}}
          </table>
        </div>
        <audio controls class="w-100 mb-3">
          <source src="{{AUDIO_VOCAB}}" type="audio/mpeg" />
        </audio>

        <!-- Grammar or Notes -->
        <div class="row">
          <div class="col-lg-8">
            {{MAIN_TEXT}}
          </div>
          <div class="col-lg-4">
            <div class="sidebar-box">
              {{SIDENOTES}}
            </div>
          </div>
        </div>
        <audio controls class="w-100 mb-3">
          <source src="{{AUDIO_MAIN}}" type="audio/mpeg" />
        </audio>

        <!-- Exercises -->
        <div class="mb-5">
          <h3>Exercise</h3>
          {{EXERCISE}}
        </div>
        <audio controls class="w-100 mb-3">
          <source src="{{AUDIO_EXERCISE}}" type="audio/mpeg" />
        </audio>

        <div class="text-center mt-4">
          <a href="{{PREV_LESSON}}" class="btn btn-outline-secondary btn-sm me-2">⬅️ Previous Lesson</a>
          <a href="{{NEXT_LESSON}}" class="btn btn-outline-secondary btn-sm">Next Lesson ➡️</a>
        </div>
      </div>
    </div>
  </div>

  <div id="footer"></div>

  <script>
    // Load shared header and footer dynamically
    document.addEventListener("DOMContentLoaded", () => {
      fetch("/header.html").then(r => r.text()).then(h => document.getElementById("header").innerHTML = h);
      fetch("/footer.html").then(r => r.text()).then(f => document.getElementById("footer").innerHTML = f);
    });
  </script>
</body>
</html>
