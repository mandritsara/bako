<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Malagasy–Tsimihety Lesson 1a: Greetings</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/styles.css" />
  <style>
    .sup { font-size: .75em; vertical-align: super; }
    .term { font-weight: 700; letter-spacing: 0.3px; }
    .mini { font-size: .95rem; color: #555; }
    .example { background: #f8f9fa; border-left: 4px solid #dee2e6; padding: .75rem 1rem; border-radius: .5rem; }
    .sidebar-box { background: #f8f9fa; border-radius: .5rem; padding: 1rem; }
    .vocab td { vertical-align: top; }
  </style>
</head>
<body class="bg-white">
  <div id="header"></div>

  <main class="container my-4">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item"><a href="https://bako.blog/introduction.html">Introduction</a></li>
        <li class="breadcrumb-item active" aria-current="page">Lesson 1a: Greetings</li>
      </ol>
    </nav>

    <header class="mb-4">
      <h1 class="h2">Malagasy–Tsimihety with Bako — Introduction-Lesson 1a: Greetings</h1>
      <p class="mini mb-1">(Appendix: Pronouns, Question words) • December 2022</p>
    </header>

    <!-- INTRODUCTION SECTION -->
    <section class="mb-4">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <div class="row g-4">
            <div class="col-md-8">
              <p>Hello! Welcome to our first lesson. My name is Bako. I have been a language tutor in Mandritsara since 2008, teaching missionaries and visitors to the Hopitaly Vaovao Mahafaly project.</p>
              <p>The dialect spoken in Mandritsara is called Tsimihety, but official Malagasy is widely spoken here as well. Through these lessons, I hope to introduce you to the language, culture and values of the people here in Mandritsara.</p>
              <p>Let’s begin by learning how to say hello. In Mandritsara, the most common way of greeting each other is by saying <strong>“SALAMA TOMPOKO”</strong>, which is literally, “hello, sir”.</p>
            </div>
            <div class="col-md-4">
              <aside class="sidebar-box h-100">
                <h3 class="h6 mb-2">Did you know?</h3>
                <p>There are <strong>18 tribes</strong> spread across <strong>22 regions</strong> in Madagascar.</p>
                <p>Other ways of saying hello in Madagascar are:</p>
                <ul>
                  <li><em>Manao ahoana</em> (Central, e.g. Tana)</li>
                  <li><em>Salama</em> (North / Central)</li>
                  <li><em>Akory</em> (East / South)</li>
                  <li><em>Miarahaba</em> (Central)</li>
                </ul>
              </aside>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- STREET GREETING EXAMPLE -->
    <section class="mb-4">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <div class="row g-4">
            <div class="col-md-8">
              <h2 class="h5">Here is an example of a typical exchange</h2>
              <div class="example mb-3">
                <div><strong>Person 1:</strong> <span class="term">Salama tompoko!</span></div>
                <div><strong>Person 2:</strong> <span class="term">Salama tompoko!</span></div>
                <div><strong>Person 1:</strong> <span class="term">Manakory ianao?</span> <span class="mini">(how are you)</span></div>
                <div><strong>Person 2:</strong> <span class="term">Tsara fa misaotra.</span> <span class="mini">(fine, thank you)</span></div>
                <div><strong>Person 1:</strong> <span class="term">Ino vaovao?</span> <span class="mini">(What’s new?)</span></div>
                <div><strong>Person 2:</strong> <span class="term">Tsisy vaovao.</span> <span class="mini">(nothing’s new)</span></div>
              </div>
              <audio controls class="w-100">
                <source src="/audio/introduction/lesson1con1.mp3" type="audio/mpeg" />
              </audio>
            </div>
            <div class="col-md-4">
              <aside class="sidebar-box h-100">
                <h3 class="h6 mb-2">Language tip</h3>
                <p><strong>Tsy</strong> = no, <strong>Tsisy</strong> = nothing.<br><em>Tsy</em> precedes verbs/adjectives, whereas <em>tsisy</em> is usually precedes a noun.</p>
              </aside>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- HAODY GREETING (with cultural note on the right) -->
    <section class="mb-4">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <div class="row g-4">
            <div class="col-md-8">
              <h2 class="h5">Another example of a greeting</h2>
              <p>The guest would initiate the greeting at the door by saying out loud, <strong>“HAODY!”</strong>, much like a knock on the door.</p>
              <div class="example mb-3">
                <div><strong>Guest:</strong> <span class="term">Haody!</span></div>
                <div><strong>Host:</strong> <span class="term">Mandrosoa. Mipetrapetraha.</span> <span class="mini">(the guest takes a seat)</span></div>
                <div><strong>Guest:</strong> <span class="term">Salama tompoko.</span></div>
                <div><strong>Host:</strong> <span class="term">Salama tompoko. Manakory ianao?</span></div>
                <div><strong>Guest:</strong> <span class="term">Tsara fa misaotra.</span></div>
                <div class="mt-2">At this point you could either say the following:</div>
                <div><strong>Host:</strong> <span class="term">Ino vaovao?</span></div>
                <div><strong>Guest:</strong> <span class="term">Tsisy vaovao.</span></div>
                <div class="mt-2">Or give a <strong>kabary</strong>.</div>
              </div>
              <audio controls class="w-100 mb-2">
                <source src="/audio/introduction/lesson1con2.mp3" type="audio/mpeg" />
              </audio>
            </div>
            <div class="col-md-4">
              <aside class="sidebar-box h-100">
                <h3 class="h6 mb-2">Cultural note</h3>
                <p>If a guest is invited to a meal, the host never asks <em>ino vaovao</em>, as the intention for the visit is obvious.</p>
              </aside>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- MALAGASY KABARY (separate section) -->
    <section class="mb-4">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <h2 class="h5 mb-2">Malagasy Kabary</h2>
          <p>Malagasy Kabary originated as a highly poeticised speech performed in front of an audience. Today, it is an integral part of social life, used in events like festivities, ceremonies, and funerals.</p>
          <p>Informally, people use it to convey thanks or welcome at dinner parties or gatherings.</p>
        </div>
      </div>
    </section>

    <!-- WRAP UP -->
    <section class="mb-4">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <p>That’s it for our first lesson!</p>
          <p>To end a conversation, or to say goodbye, we will look at the next lesson.</p>
          <p><strong>Mazotoa!</strong></p>
        </div>
      </div>
    </section>

    <!-- VOCABULARY -->
    <section class="mb-4">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <h2 class="h5">Vocabulary</h2>
          <table class="table table-striped table-sm">
            <thead>
              <tr><th>Word</th><th>Meaning</th></tr>
            </thead>
            <tbody>
              <tr><td>Salama</td><td>hello</td></tr>
              <tr><td>Tompoko</td><td>sir</td></tr>
              <tr><td>Tsara</td><td>good</td></tr>
              <tr><td>Fa</td><td>but</td></tr>
              <tr><td>Misaotra</td><td>thank you</td></tr>
              <tr><td>Vaovao</td><td>new</td></tr>
              <tr><td>Tsisy</td><td>no</td></tr>
              <tr><td>Haody</td><td>hello</td></tr>
              <tr><td>Mandrosoa</td><td>come in</td></tr>
              <tr><td>Mipetrapetraha</td><td>have a seat</td></tr>
              <tr><td>Mazotoa</td><td>enjoy</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- APPENDIX: PRONOUNS -->
    <section class="mb-4">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <h2 class="h5">Appendix: Pronouns</h2>
          <table class="table table-sm table-bordered">
            <thead class="table-primary text-white">
              <tr><th>English</th><th>Official</th><th>Tsimihety</th></tr>
            </thead>
            <tbody>
              <tr><td>I</td><td>Aho</td><td>Zaho</td></tr>
              <tr><td>You (singular)</td><td>Ianao</td><td>Ianao <span class="mini">(Pronounced “Ana” or “Anao”)</span></td></tr>
              <tr><td>You (plural)</td><td>Ianareo</td><td>Areo <span class="mini">(Pronounced “Ar–é”)</span></td></tr>
              <tr><td>He/She/It</td><td>Izy</td><td>Izy</td></tr>
              <tr><td>They</td><td>Izy ireo</td><td>Zareo <span class="mini">(Pronounced “Zar–é”)</span></td></tr>
              <tr><td>We (inclusive)</td><td>Isika</td><td>Antsika <span class="mini">(Includes addressee)</span></td></tr>
              <tr><td>We (exclusive)</td><td>Izahay</td><td>Zahay <span class="mini">(Excludes addressee)</span></td></tr>
            </tbody>
          </table>
          <audio controls class="w-100">
            <source src="/audio/introduction/lesson1pronouns.mp3" type="audio/mpeg" />
          </audio>
        </div>
      </div>
    </section>

    <!-- APPENDIX: QUESTION WORDS -->
    <section class="mb-5">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <h2 class="h5">Appendix: Question words</h2>
          <table class="table table-sm table-bordered">
            <thead class="table-light">
              <tr><th>English</th><th>Official</th><th>Tsimihety</th></tr>
            </thead>
            <tbody>
              <tr><td>What</td><td>Inona</td><td>Ino</td></tr>
              <tr><td>Who</td><td>Iza</td><td>Zovy</td></tr>
              <tr><td>When (past)</td><td>Oviana</td><td>Tafiriana</td></tr>
              <tr><td>When (future)</td><td>Rahoviana</td><td>Hafiriana</td></tr>
              <tr><td>Where</td><td>Aiza</td><td>Aiza</td></tr>
              <tr><td>How much</td><td>Ohatrinona</td><td>Ohatrino</td></tr>
              <tr><td>How</td><td>Ahoana</td><td>Akory</td></tr>
              <tr><td>How many</td><td>Firy</td><td>Firy</td></tr>
              <tr><td>What time</td><td>Amin’ny firy</td><td>Amin’ny firy</td></tr>
              <tr><td>Why</td><td>Fa maninona</td><td>Fa manino</td></tr>
            </tbody>
          </table>
          <audio controls class="w-100">
            <source src="/audio/introduction/lesson1questionwords.mp3" type="audio/mpeg" />
          </audio>
        </div>
      </div>
    </section>

<!--quiz 1-->
    <section class="mb-5" id="quiz1">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <h2 class="h5 mb-3">Quiz 1: Match the greetings</h2>
      <p class="mini mb-3">Drag the Malagasy/Tsimihety greeting (left) onto the correct English meaning (right).</p>
      <div class="row">
        <!-- LEFT: fixed order -->
        <div class="col-md-6">
          <ul class="list-group" id="malagasyList">
            <li class="list-group-item" draggable="true" data-key="salama">Salama tompoko</li>
            <li class="list-group-item" draggable="true" data-key="haody">Haody</li>
            <li class="list-group-item" draggable="true" data-key="manakory">Manakory ianao?</li>
            <li class="list-group-item" draggable="true" data-key="tsara">Tsara fa misaotra</li>
            <li class="list-group-item" draggable="true" data-key="ino">Ino vaovao?</li>
            <li class="list-group-item" draggable="true" data-key="tsisy">Tsisy vaovao</li>
          </ul>
        </div>
        <!-- RIGHT: will be scrambled -->
        <div class="col-md-6">
          <ul class="list-group" id="englishList">
            <!-- filled by JS -->
          </ul>
        </div>
      </div>
      <button class="btn btn-primary mt-3 me-2" id="checkMatchBtn">Check answers</button>
      <button class="btn btn-outline-secondary mt-3" id="retryMatchBtn">Retry / scramble</button>
      <p id="matchResult" class="mt-2"></p>
    </div>
  </div>
</section>

<script>
  // data for quiz 1
  const quiz1Pairs = [
    { key: 'salama', text: 'Hello, sir' },
    { key: 'haody', text: 'Knock / hello at the door' },
    { key: 'manakory', text: 'How are you?' },
    { key: 'tsara', text: 'Fine, thank you' },
    { key: 'ino', text: 'What’s new?' },
    { key: 'tsisy', text: 'Nothing’s new' }
  ];

  const malItems = document.querySelectorAll('#malagasyList li');
  const englishList = document.getElementById('englishList');
  const matchResult = document.getElementById('matchResult');
  let draggedKey = null;

  // shuffle helper
  function shuffle(arr) {
    return arr.map(a => [Math.random(), a])
              .sort((a,b) => a[0]-b[0])
              .map(a => a[1]);
  }

  function renderEnglishList() {
    englishList.innerHTML = '';
    const shuffled = shuffle(quiz1Pairs);
    shuffled.forEach(item => {
      const li = document.createElement('li');
      li.className = 'list-group-item';
      li.dataset.answerKey = item.key;
      li.textContent = item.text;
      li.addEventListener('dragover', e => e.preventDefault());
      li.addEventListener('drop', e => {
        // don’t stack infinite tags
        if (!li.textContent.includes('←')) {
          li.textContent = item.text + ' ← ' + draggedKey;
          li.dataset.droppedKey = draggedKey;
          li.classList.add('bg-light');
        }
      });
      englishList.appendChild(li);
    });
    matchResult.textContent = '';
  }

  // set up dragging on left
  malItems.forEach(item => {
    item.addEventListener('dragstart', () => {
      draggedKey = item.dataset.key;
    });
  });

  // check button
  document.getElementById('checkMatchBtn').onclick = () => {
    const rightItems = englishList.querySelectorAll('li');
    let score = 0;
    rightItems.forEach(li => {
      if (li.dataset.droppedKey && li.dataset.droppedKey === li.dataset.answerKey) {
        score++;
        li.classList.add('border', 'border-success');
      } else {
        li.classList.add('border', 'border-danger');
      }
    });
    matchResult.textContent = `You got ${score} / ${quiz1Pairs.length} correct.`;
  };

  // retry / scramble button
  document.getElementById('retryMatchBtn').onclick = () => {
    renderEnglishList();
  };

  // initial render
  renderEnglishList();
</script>

    <!--quiz 2-->

    <section class="mb-5" id="quiz2">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <h2 class="h5 mb-3">Quiz 2: Pronouns (Official + Tsimihety)</h2>
      <p class="mini mb-3">Type the correct pronoun. Answers are not case-sensitive.</p>

      <form id="pronounQuizFull">
        <h6 class="mt-3 mb-2 text-primary">Official Malagasy</h6>
        <div class="mb-2">I = <input type="text" class="form-control d-inline-block w-auto" name="aho" /></div>
        <div class="mb-2">You (singular) = <input type="text" class="form-control d-inline-block w-auto" name="ianao" /></div>
        <div class="mb-2">You (plural) = <input type="text" class="form-control d-inline-block w-auto" name="ianareo" /></div>
        <div class="mb-2">He / She / It = <input type="text" class="form-control d-inline-block w-auto" name="izy" /></div>
        <div class="mb-2">They = <input type="text" class="form-control d-inline-block w-auto" name="izyireo" /></div>
        <div class="mb-2">We (inclusive) = <input type="text" class="form-control d-inline-block w-auto" name="isika" /></div>
        <div class="mb-2">We (exclusive) = <input type="text" class="form-control d-inline-block w-auto" name="izahay" /></div>

        <h6 class="mt-4 mb-2 text-success">Tsimihety</h6>
        <div class="mb-2">I = <input type="text" class="form-control d-inline-block w-auto" name="zaho" /></div>
        <div class="mb-2">You (singular) = <input type="text" class="form-control d-inline-block w-auto" name="tsm_ianao" /></div>
        <div class="mb-2">You (plural) = <input type="text" class="form-control d-inline-block w-auto" name="areo" /></div>
        <div class="mb-2">He / She / It = <input type="text" class="form-control d-inline-block w-auto" name="tsm_izy" /></div>
        <div class="mb-2">They = <input type="text" class="form-control d-inline-block w-auto" name="zareo" /></div>
        <div class="mb-2">We (inclusive) = <input type="text" class="form-control d-inline-block w-auto" name="antsika" /></div>
        <div class="mb-2">We (exclusive) = <input type="text" class="form-control d-inline-block w-auto" name="zahay" /></div>

        <button type="button" class="btn btn-primary mt-3" id="checkPronounsFull">Check answers</button>
        <p id="pronounResultFull" class="mt-3 fw-bold"></p>
      </form>
    </div>
  </div>
</section>

<script>
  const correctPronounsFull = {
    // official
    aho: "Aho",
    ianao: "Ianao",
    ianareo: "Ianareo",
    izy: "Izy",
    izyireo: "Izy ireo",
    isika: "Isika",
    izahay: "Izahay",
    // tsimihety
    zaho: "Zaho",
    tsm_ianao: "Ianao",
    areo: "Areo",
    tsm_izy: "Izy",
    zareo: "Zareo",
    antsika: "Antsika",
    zahay: "Zahay"
  };

  document.getElementById('checkPronounsFull').onclick = () => {
    const form = document.getElementById('pronounQuizFull');
    let score = 0;
    const total = Object.keys(correctPronounsFull).length;

    Object.keys(correctPronounsFull).forEach(name => {
      const input = form[name];
      if (!input) return;
      const userVal = input.value.trim().toLowerCase();
      const corrVal = correctPronounsFull[name].toLowerCase();
      if (userVal === corrVal) {
        score++;
        input.classList.add('border-success');
        input.classList.remove('border-danger');
      } else {
        input.classList.add('border-danger');
        input.classList.remove('border-success');
      }
    });

    document.getElementById('pronounResultFull').textContent =
      `You got ${score} / ${total} correct.`;
  };
</script>

    <!--quiz 3-->

    <section class="mb-5" id="quiz3">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <h2 class="h5 mb-3">Quiz 3: Question words</h2>
      <p class="mini mb-3">Select the correct word for each English meaning.</p>

      <form id="questionQuizFull">
        <h6 class="mt-3 mb-2 text-primary">Official Malagasy</h6>
        <div class="mb-2">What →
          <select class="form-select d-inline-block w-auto" name="off_what">
            <option value="">—</option>
            <option>Inona</option>
            <option>Iza</option>
            <option>Aiza</option>
          </select>
        </div>
        <div class="mb-2">Who →
          <select class="form-select d-inline-block w-auto" name="off_who">
            <option value="">—</option>
            <option>Iza</option>
            <option>Inona</option>
            <option>Firy</option>
          </select>
        </div>
        <div class="mb-2">When (past) →
          <select class="form-select d-inline-block w-auto" name="off_whenpast">
            <option value="">—</option>
            <option>Oviana</option>
            <option>Rahoviana</option>
          </select>
        </div>
        <div class="mb-2">When (future) →
          <select class="form-select d-inline-block w-auto" name="off_whenfuture">
            <option value="">—</option>
            <option>Rahoviana</option>
            <option>Oviana</option>
          </select>
        </div>
        <div class="mb-2">Where →
          <select class="form-select d-inline-block w-auto" name="off_where">
            <option value="">—</option>
            <option>Aiza</option>
            <option>Ahoana</option>
          </select>
        </div>
        <div class="mb-2">How much →
          <select class="form-select d-inline-block w-auto" name="off_howmuch">
            <option value="">—</option>
            <option>Ohatrinona</option>
            <option>Firy</option>
          </select>
        </div>
        <div class="mb-2">How →
          <select class="form-select d-inline-block w-auto" name="off_how">
            <option value="">—</option>
            <option>Ahoana</option>
            <option>Aiza</option>
          </select>
        </div>
        <div class="mb-2">How many →
          <select class="form-select d-inline-block w-auto" name="off_howmany">
            <option value="">—</option>
            <option>Firy</option>
            <option>Ohatrinona</option>
          </select>
        </div>
        <div class="mb-2">What time →
          <select class="form-select d-inline-block w-auto" name="off_whattime">
            <option value="">—</option>
            <option>Amin’ny firy</option>
            <option>Oviana</option>
          </select>
        </div>
        <div class="mb-2">Why →
          <select class="form-select d-inline-block w-auto" name="off_why">
            <option value="">—</option>
            <option>Fa maninona</option>
            <option>Ahoana</option>
          </select>
        </div>

        <h6 class="mt-4 mb-2 text-success">Tsimihety</h6>
        <div class="mb-2">What →
          <select class="form-select d-inline-block w-auto" name="tsm_what">
            <option value="">—</option>
            <option>Ino</option>
            <option>Zovy</option>
          </select>
        </div>
        <div class="mb-2">Who →
          <select class="form-select d-inline-block w-auto" name="tsm_who">
            <option value="">—</option>
            <option>Zovy</option>
            <option>Ino</option>
          </select>
        </div>
        <div class="mb-2">When (past) →
          <select class="form-select d-inline-block w-auto" name="tsm_whenpast">
            <option value="">—</option>
            <option>Tafiriana</option>
            <option>Hafiriana</option>
          </select>
        </div>
        <div class="mb-2">When (future) →
          <select class="form-select d-inline-block w-auto" name="tsm_whenfuture">
            <option value="">—</option>
            <option>Hafiriana</option>
            <option>Tafiriana</option>
          </select>
        </div>
        <div class="mb-2">Where →
          <select class="form-select d-inline-block w-auto" name="tsm_where">
            <option value="">—</option>
            <option>Aiza</option>
            <option>Akory</option>
          </select>
        </div>
        <div class="mb-2">How much →
          <select class="form-select d-inline-block w-auto" name="tsm_howmuch">
            <option value="">—</option>
            <option>Ohatrino</option>
            <option>Firy</option>
          </select>
        </div>
        <div class="mb-2">How →
          <select class="form-select d-inline-block w-auto" name="tsm_how">
            <option value="">—</option>
            <option>Akory</option>
            <option>Ino</option>
          </select>
        </div>
        <div class="mb-2">How many →
          <select class="form-select d-inline-block w-auto" name="tsm_howmany">
            <option value="">—</option>
            <option>Firy</option>
            <option>Ohatrino</option>
          </select>
        </div>
        <div class="mb-2">What time →
          <select class="form-select d-inline-block w-auto" name="tsm_whattime">
            <option value="">—</option>
            <option>Amin’ny firy</option>
            <option>Hafiriana</option>
          </select>
        </div>
        <div class="mb-2">Why →
          <select class="form-select d-inline-block w-auto" name="tsm_why">
            <option value="">—</option>
            <option>Fa manino</option>
            <option>Akory</option>
          </select>
        </div>

        <button type="button" class="btn btn-primary mt-3" id="checkQuestionsFull">Check answers</button>
        <p id="questionResultFull" class="mt-3 fw-bold"></p>
      </form>
    </div>
  </div>
</section>

<script>
  const correctQuestions = {
    // official
    off_what: "Inona",
    off_who: "Iza",
    off_whenpast: "Oviana",
    off_whenfuture: "Rahoviana",
    off_where: "Aiza",
    off_howmuch: "Ohatrinona",
    off_how: "Ahoana",
    off_howmany: "Firy",
    off_whattime: "Amin’ny firy",
    off_why: "Fa maninona",
    // tsimihety
    tsm_what: "Ino",
    tsm_who: "Zovy",
    tsm_whenpast: "Tafiriana",
    tsm_whenfuture: "Hafiriana",
    tsm_where: "Aiza",
    tsm_howmuch: "Ohatrino",
    tsm_how: "Akory",
    tsm_howmany: "Firy",
    tsm_whattime: "Amin’ny firy",
    tsm_why: "Fa manino"
  };

  document.getElementById('checkQuestionsFull').onclick = () => {
    const form = document.getElementById('questionQuizFull');
    let score = 0;
    const total = Object.keys(correctQuestions).length;

    Object.keys(correctQuestions).forEach(name => {
      const sel = form[name];
      if (!sel) return;
      const userVal = (sel.value || "").trim();
      const corrVal = correctQuestions[name].trim();
      if (userVal === corrVal) {
        score++;
        sel.classList.add('border-success');
        sel.classList.remove('border-danger');
      } else {
        sel.classList.add('border-danger');
        sel.classList.remove('border-success');
      }
    });

    document.getElementById('questionResultFull').textContent =
      `You got ${score} / ${total} correct.`;
  };
</script>

    <!--quiz 4-->

    <section class="mb-5" id="quiz4">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <h2 class="h5 mb-3">Quiz 4: Listening to the dialogue</h2>
      <p class="mini mb-3">Listen to the whole dialogue, then tick the lines that actually appear.</p>
      <audio controls class="w-100 mb-3">
        <source src="/audio/introduction/lesson1con1.mp3" type="audio/mpeg" />
      </audio>

      <form id="listeningLines">
        <!-- real ones from the lesson -->
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="salama" id="line1">
          <label class="form-check-label" for="line1">Salama tompoko!</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="manakory" id="line2">
          <label class="form-check-label" for="line2">Manakory ianao?</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="tsara" id="line3">
          <label class="form-check-label" for="line3">Tsara fa misaotra.</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="ino" id="line4">
          <label class="form-check-label" for="line4">Ino vaovao?</label>
        </div>
        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" value="tsisy" id="line5">
          <label class="form-check-label" for="line5">Tsisy vaovao.</label>
        </div>

        <!-- distractors: don't appear in first dialogue -->
        <p class="mini mb-2">These might not be in this recording:</p>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="haody" id="line6">
          <label class="form-check-label" for="line6">Haody!</label>
        </div>
        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" value="mandrosoa" id="line7">
          <label class="form-check-label" for="line7">Mandrosoa. Mipetrapetraha.</label>
        </div>

        <button type="button" class="btn btn-primary mt-2" id="checkListeningLines">Check</button>
        <p id="listenResult" class="mt-3 fw-bold"></p>
      </form>
    </div>
  </div>
</section>

<script>
  // lines that ARE in lesson1con1 (first dialogue)
  const correctLines = new Set(["salama","manakory","tsara","ino","tsisy"]);

  document.getElementById('checkListeningLines').onclick = () => {
    const form = document.getElementById('listeningLines');
    const checks = form.querySelectorAll('.form-check-input');

    let correctSelected = 0;
    let totalCorrect = correctLines.size;
    let wrongSelected = 0;

    checks.forEach(ch => {
      const val = ch.value;
      if (ch.checked && correctLines.has(val)) {
        correctSelected++;
        ch.parentElement.classList.add('border','border-success','rounded');
      } else if (ch.checked && !correctLines.has(val)) {
        wrongSelected++;
        ch.parentElement.classList.add('border','border-danger','rounded');
      } else {
        ch.parentElement.classList.remove('border','border-success','border-danger','rounded');
      }
    });

    // basic scoring: must pick all correct and no wrong to get full
    const resultEl = document.getElementById('listenResult');
    if (correctSelected === totalCorrect && wrongSelected === 0) {
      resultEl.textContent = '✅ Perfect — you identified every line in the dialogue.';
    } else {
      resultEl.textContent = `You got ${correctSelected}/${totalCorrect} correct, with ${wrongSelected} extra selected. Listen again and try once more.`;
    }
  };
</script>



    <!-- DOWNLOAD PDF -->
    <div class="text-center my-4">
      <p class="mini">You can also download this lesson as a PDF for offline study:</p>
      <a class="btn btn-outline-secondary" href="/introduction/introlesson1agreetings.pdf" target="_blank" rel="noopener">Download PDF</a>
    </div>
    
    <!-- PREV / NEXT for 7 lessons -->
    <div class="d-flex justify-content-between mb-5">
      <a href="#" class="disabled text-secondary">&laquo; Beginning</a>
      <a href="/introduction/introlesson1bgoodbye.html">Next: Lesson 1b – Goodbye</a>
    </div>
  </main>

  <div id="footer"></div>
  <script>
    (async () => {
      try {
        const header = document.getElementById('header');
        const footer = document.getElementById('footer');
        if (header) {
          const h = await fetch('/header.html');
          if (h.ok) header.innerHTML = await h.text();
        }
        if (footer) {
          const f = await fetch('/footer.html');
          if (f.ok) footer.innerHTML = await f.text();
        }
      } catch(e) { /* no-op */ }
    })();
  </script>
</body>
</html>
