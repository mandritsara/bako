<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Malagasy–Tsimihety Lesson 1b: Goodbye</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/styles.css" />
  <style>
    .sup { font-size: .75em; vertical-align: super; }
    .term { font-weight: 700; letter-spacing: 0.3px; }
    .mini { font-size: .95rem; color: #555; }
    .example { background: #f8f9fa; border-left: 4px solid #dee2e6; padding: .75rem 1rem; border-radius: .5rem; }
    .sidebar-box { background: #f8f9fa; border-radius: .5rem; padding: 1rem; }
    .image-container img { max-width: 100%; height: auto; border-radius: .5rem; }
    .vocab td { vertical-align: top; }
  </style>
</head>
<body>
  <div id="header"></div>

  <main class="container my-4">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item"><a href="https://bako.blog/introduction.html">Introduction</a></li>
        <li class="breadcrumb-item active" aria-current="page">Lesson 1b: Goodbye</li>
      </ol>
    </nav>

    <header class="mb-4">
      <h1 class="h2">Malagasy–Tsimihety with Bako: Lesson 1b — Goodbye</h1>
    </header>

    <!-- Common Ways to Say Goodbye -->
<section class="mb-4">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <div class="row g-4">
        <div class="col-md-8">
          <h3 class="h5">Common Ways to Say Goodbye</h3>
          <p>There are a number of ways to say goodbye in Malagasy. We will start with the most common ones:</p>
          <ul class="mb-3">
            <li><span class="term">Veloma tompoko</span></li>
            <li><span class="term">Veloma e</span></li>
            <li><span class="term">Mazotoa</span></li>
            <li><span class="term">Amin’ny manaraka indray</span></li>
          </ul>
          <audio controls class="w-100">
            <source src="/audio/introduction/lesson1bcon1.mp3" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>
          <p class="mt-3">Indray = koa, and can be used interchangeably.</p>
          <p>If you want to specify a time when you will be meeting again, you will have to add the word “again” or “koa” at the end of the sentence. For example:</p>
          <p>If you will be meeting each other again in the afternoon, you can say</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Meeting Again at a Specific Time -->
<section class="mb-4">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <ul>
        <li>
          <span class="term">Veloma/Mazotoa</span> <em>harivariva</em> koa — see you in the afternoon
        </li>
      </ul>
      <audio controls class="w-100 mb-3">
        <source src="/audio/introduction/lesson1bcon2.mp3" type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>

      <p>This formula can be extended to days in the future or even specific days of the week. For example, if you want to say “see you tomorrow”, it is:</p>
      <ul>
        <li>
          <span class="term">Veloma/Mazotoa</span> <em>rahampitso</em><span class="sup">off</span> /
          <em>amarainy</em><span class="sup">tsm</span> koa — see you tomorrow
        </li>
      </ul>
      <audio controls class="w-100 mb-3">
        <source src="/audio/introduction/lesson1bcon3.mp3" type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>

      <p>For specific days of the week, e.g. “see you on Wednesday”, you will say:</p>
      <ul>
        <li>
          <span class="term">Veloma/Mazotoa</span> <em>Alarobia</em> koa — see you on Wednesday
        </li>
      </ul>
      <audio controls class="w-100 mb-3">
        <source src="/audio/introduction/lesson1bcon4.mp3" type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>

      <p>If you want to be brief, you can drop “veloma/mazotoa” and simply say the time when you will meet again followed by “koa”. For example:</p>
      <ul>
        <li><span class="term">Amin’ny alina koa</span> — see you tonight</li>
        <li><span class="term">Amarainy koa</span> — see you tomorrow</li>
        <li><span class="term">Talata koa</span> — see you on Tuesday</li>
      </ul>
      <audio controls class="w-100 mb-3">
        <source src="/audio/introduction/lesson1bcon5.mp3" type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>

      <p><strong>Don’t forget</strong> to add the word <em>koa</em> at the end of the sentence!</p>

      <div class="sidebar-box mt-3">
        To say “see you later”, you can say <strong>REHEFA AVY EO</strong> (in a short while — minutes to hours on the same day) or
        <strong>MANDRAPIHAONA</strong> (on the same day or the next).
      </div>
    </div>
  </div>
</section>


    <!-- Goodbye Before Eating -->
    <section class="mb-4">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Goodbye Before Eating</h3>
          <p>
            <strong>Person 1:</strong> <span class="term">Mazotoa</span> <em>homana</em><span class="sup">tsm</span> / <em>mihinana</em><span class="sup">off</span>
          </p>
          <p><strong>Person 2:</strong> <span class="term">Misaotra ianao koa</span></p>
          <audio controls class="w-100 mt-2">
            <source src="/audio/introduction/lesson1bcon6.mp3" type="audio/mpeg" />
          </audio>
        </div>
      </div>
    </section>

    <!-- Appendix: Days, Weeks, and Months -->
    <section class="mb-4">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <h3 class="h5">Appendix: Days, Weeks, and Months</h3>

          <h4 class="h6 mt-3">Parts of the Day</h4>
          <div class="image-container mb-3"><img src="/images/lesson1b.png" alt="Lesson 1b illustration" /></div>
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-primary">
                <tr>
                  <th>English</th>
                  <th>Official</th>
                  <th>Tsimihety</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>Morning</td><td>Maraina</td><td>Maraindrainy</td></tr>
                <tr><td>Noon</td><td>Atoandro</td><td>Matsagna</td></tr>
                <tr><td>Early afternoon</td><td>Tolakandro</td><td>Folakandro</td></tr>
                <tr><td>Afternoon</td><td>Hariva</td><td>Harivariva</td></tr>
                <tr><td>Night</td><td>Alina</td><td>Alina</td></tr>
              </tbody>
            </table>
          </div>

          <div class="sidebar-box mb-3">
            In Tsimihety, sometimes the <strong>“n”</strong> consonant has a nasal sound, which can be written as <strong>ñ</strong> or <strong>ñi</strong>. For convenience, we spell it here as <strong>“gn”</strong> in our notes.
          </div>

          <audio controls class="w-100 mb-4">
            <source src="/audio/introduction/lesson1bapp1.mp3" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>

          <h4 class="h6">Yesterday / Today / Tomorrow</h4>
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-danger">
                <tr>
                  <th>English</th>
                  <th>Official</th>
                  <th>Tsimihety</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>Yesterday</td><td>Omaly</td><td>Nomoaligny</td></tr>
                <tr><td>Today</td><td>Androany</td><td>Niany</td></tr>
                <tr><td>Tomorrow</td><td>Rahampitso</td><td>Amarainy</td></tr>
              </tbody>
            </table>
          </div>

          <audio controls class="w-100 mb-4">
            <source src="/audio/introduction/lesson1bapp2.mp3" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>

          <h4 class="h6">Day / Week / Month / Year</h4>
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-dark text-white">
                <tr>
                  <th>English</th>
                  <th>Official</th>
                  <th>Tsimihety</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>Day</td><td>(ny) andro</td><td>(ny) andro</td></tr>
                <tr><td>Week</td><td>(ny) herinandro</td><td>(ny) herinandro</td></tr>
                <tr><td>Month</td><td>Volana</td><td>Volagna</td></tr>
                <tr><td>Year</td><td>Taona</td><td>Taogno</td></tr>
              </tbody>
            </table>
          </div>

          <audio controls class="w-100 mb-4">
            <source src="/audio/introduction/lesson1bapp3.mp3" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>

          <h4 class="h6">Days of the Week</h4>
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-warning">
                <tr>
                  <th>English</th>
                  <th>Official</th>
                  <th>Tsimihety</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>Monday</td><td>Alatsinainy</td><td>Tinainy</td></tr>
                <tr><td>Tuesday</td><td>Talata</td><td>Talata</td></tr>
                <tr><td>Wednesday</td><td>Alarobia</td><td>Robia</td></tr>
                <tr><td>Thursday</td><td>Alakamisy</td><td>Kamisy</td></tr>
                <tr><td>Friday</td><td>Zoma</td><td>Zoma</td></tr>
                <tr><td>Saturday</td><td>Asabotsy</td><td>Sabotsy</td></tr>
                <tr><td>Sunday</td><td>Alahady</td><td>Lahady/Dimansy</td></tr>
              </tbody>
            </table>
          </div>

          <audio controls class="w-100 mb-4">
            <source src="/audio/introduction/lesson1bapp4.mp3" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>

          <h4 class="h6">Months of the Year</h4>
          <p>
            There are English and French influenced words for months in Malagasy. Both are commonly used; however, Tsimihety prefers the French version.
          </p>
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-primary">
                <tr>
                  <th>English</th>
                  <th>Official (English)</th>
                  <th>Official (French) / Tsimihety</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>January</td><td>Janoary</td><td>Zanvie</td></tr>
                <tr><td>February</td><td>Febroary</td><td>Fevrie</td></tr>
                <tr><td>March</td><td>Martsa</td><td>Marsa</td></tr>
                <tr><td>April</td><td>Aprily</td><td>Avrily</td></tr>
                <tr><td>May</td><td>May</td><td>May</td></tr>
                <tr><td>June</td><td>Jona</td><td>Jona</td></tr>
                <tr><td>July</td><td>Jolay</td><td>Jolay</td></tr>
                <tr><td>August</td><td>Aogositra</td><td>Aogositra</td></tr>
                <tr><td>September</td><td>Septambra</td><td>Septambra</td></tr>
                <tr><td>October</td><td>Oktobra</td><td>Oktobra</td></tr>
                <tr><td>November</td><td>Novambra</td><td>Novambra</td></tr>
                <tr><td>December</td><td>Desambra</td><td>Desambra</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!--quiz1-->
 <section class="mb-5" id="l1b-quiz1">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <h2 class="h5 mb-3">Quiz 1: Match the goodbyes</h2>
      <p class="mini mb-3">
        Tap a Malagasy goodbye, then tap its English meaning.
      </p>

      <div class="row">
        <!-- MALAGASY FIRST -->
        <div class="col-12 col-md-6 mb-3 mb-md-0">
          <h6 class="text-primary text-center mb-2">Malagasy</h6>
          <ul class="list-group border border-primary-subtle" id="l1b-malagasy-list">
            <li class="list-group-item bg-light" data-key="veloma">Veloma tompoko</li>
            <li class="list-group-item bg-light" data-key="velomae">Veloma e</li>
            <li class="list-group-item bg-light" data-key="mazotoa">Mazotoa</li>
            <li class="list-group-item bg-light" data-key="rehefa">Rehefa avy eo</li>
            <li class="list-group-item bg-light" data-key="mandr">Mandrapihaona</li>
          </ul>
        </div>

        <!-- ENGLISH SECOND (SCRAMBLED) -->
        <div class="col-12 col-md-6">
          <h6 class="text-success text-center mb-2">English meaning</h6>
          <ul class="list-group border border-success-subtle" id="l1b-english-list">
            <!-- filled by JS -->
          </ul>
        </div>
      </div>

      <button class="btn btn-primary mt-3 me-2" id="l1b-check-btn">Check answers</button>
      <button class="btn btn-outline-secondary mt-3" id="l1b-retry-btn">Retry / Scramble</button>
      <p id="l1b-result" class="mt-2 fw-bold"></p>
    </div>
  </div>
</section>

<script>
  // data for lesson 1b goodbyes
  const l1bPairs = [
    { key: 'veloma',  text: 'Goodbye (polite) / goodbye, sir' },
    { key: 'velomae', text: 'Bye! (informal)' },
    { key: 'mazotoa', text: 'Enjoy / go well / “mazotoa”' },
    { key: 'rehefa',  text: 'See you in a short while' },
    { key: 'mandr',   text: 'Until we meet again' }
  ];

  const l1bMalList   = document.getElementById('l1b-malagasy-list');
  const l1bMalItems  = l1bMalList.querySelectorAll('li');
  const l1bEngList   = document.getElementById('l1b-english-list');
  const l1bResultEl  = document.getElementById('l1b-result');

  let l1bSelectedMalKey = null;
  let l1bSelectedMalLi  = null;

  function l1bShuffle(arr) {
    return arr.map(x => ({v:x, r:Math.random()}))
              .sort((a,b) => a.r - b.r)
              .map(x => x.v);
  }

  function renderL1bEnglish() {
    l1bEngList.innerHTML = '';
    const scrambled = l1bShuffle(l1bPairs);
    scrambled.forEach(item => {
      const li = document.createElement('li');
      li.className = 'list-group-item';
      li.textContent = item.text;
      li.dataset.answerKey = item.key;     // correct Malagasy key
      li.dataset.matchedKey = '';          // what user picked

      // click to accept current Malagasy selection
      li.addEventListener('click', () => {
        if (!l1bSelectedMalKey) return; // nothing selected on Malagasy side
        const baseText = item.text;
        li.textContent = baseText + ' ← ' + l1bSelectedMalKey;
        li.dataset.matchedKey = l1bSelectedMalKey;
        li.classList.add('bg-light');

        // clear malagasy selection so we can pick the next one
        if (l1bSelectedMalLi) l1bSelectedMalLi.classList.remove('active');
        l1bSelectedMalKey = null;
        l1bSelectedMalLi  = null;
      });

      l1bEngList.appendChild(li);
    });
    l1bResultEl.textContent = '';
  }

  // MALAGASY clicks
  l1bMalItems.forEach(li => {
    li.addEventListener('click', () => {
      // clear previous
      if (l1bSelectedMalLi) l1bSelectedMalLi.classList.remove('active');
      l1bSelectedMalKey = li.dataset.key;
      l1bSelectedMalLi  = li;
      li.classList.add('active');
    });
  });

  // CHECK
  document.getElementById('l1b-check-btn').addEventListener('click', () => {
    const engItems = l1bEngList.querySelectorAll('li');
    let score = 0;
    engItems.forEach(li => {
      li.classList.remove('border-success','border-danger');
      const correct = li.dataset.answerKey;
      const user    = li.dataset.matchedKey;
      if (user && user === correct) {
        score++;
        li.classList.add('border','border-success');
      } else {
        li.classList.add('border','border-danger');
      }
    });
    l1bResultEl.textContent = `You matched ${score} / ${l1bPairs.length} correctly.`;
  });

  // RETRY / SCRAMBLE
  document.getElementById('l1b-retry-btn').addEventListener('click', () => {
    // clear malagasy selection
    if (l1bSelectedMalLi) l1bSelectedMalLi.classList.remove('active');
    l1bSelectedMalKey = null;
    l1bSelectedMalLi  = null;
    renderL1bEnglish();
  });

  // initial render
  renderL1bEnglish();
</script>


    <!--quiz 2-->
  <section class="mb-5" id="l1b-quiz2">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <h2 class="h5 mb-3">Quiz 2: Time words (Official vs Tsimihety)</h2>
      <p class="mini mb-3">Choose the correct form. You can reshuffle the options to try again.</p>

      <form id="l1b-time-quiz">
        <div class="row g-4">
          <!-- OFFICIAL -->
          <div class="col-12 col-md-6" id="l1b-official-col">
            <h6 class="mb-2 text-primary">Official Malagasy</h6>
            <!-- selects will be injected here -->
          </div>
          <!-- TSIMIHETY -->
          <div class="col-12 col-md-6" id="l1b-tsm-col">
            <h6 class="mb-2 text-success">Tsimihety</h6>
            <!-- selects will be injected here -->
          </div>
        </div>

        <button type="button" class="btn btn-primary mt-3 me-2" id="l1b-time-check">Check</button>
        <button type="button" class="btn btn-outline-secondary mt-3" id="l1b-time-scramble">Scramble options</button>
        <p id="l1b-time-result" class="mt-3 fw-bold"></p>
      </form>
    </div>
  </div>
</section>

<script>
  // 1. quiz data
  const l1bTimeFields = [
    // OFFICIAL
    {
      id: "off_morning",
      col: "off",
      label: "Morning",
      correct: "Maraina",
      choices: ["Maraina", "Atoandro", "Hariva", "Alina"]
    },
    {
      id: "off_noon",
      col: "off",
      label: "Noon",
      correct: "Atoandro",
      choices: ["Atoandro", "Maraina", "Hariva", "Alina"]
    },
    {
      id: "off_afternoon",
      col: "off",
      label: "Afternoon",
      correct: "Hariva",
      choices: ["Hariva", "Tolakandro", "Atoandro"]
    },
    {
      id: "off_night",
      col: "off",
      label: "Night",
      correct: "Alina",
      choices: ["Alina", "Hariva", "Maraina"]
    },
    {
      id: "off_yesterday",
      col: "off",
      label: "Yesterday",
      correct: "Omaly",
      choices: ["Omaly", "Androany", "Rahampitso"]
    },
    {
      id: "off_today",
      col: "off",
      label: "Today",
      correct: "Androany",
      choices: ["Androany", "Omaly", "Rahampitso"]
    },
    {
      id: "off_tomorrow",
      col: "off",
      label: "Tomorrow",
      correct: "Rahampitso",
      choices: ["Rahampitso", "Androany", "Omaly"]
    },
    // TSIMIHETY
    {
      id: "tsm_morning",
      col: "tsm",
      label: "Morning",
      correct: "Maraindrainy",
      choices: ["Maraindrainy", "Matsagna", "Folakandro"]
    },
    {
      id: "tsm_noon",
      col: "tsm",
      label: "Noon",
      correct: "Matsagna",
      choices: ["Matsagna", "Harivariva", "Alina"]
    },
    {
      id: "tsm_afternoon",
      col: "tsm",
      label: "Afternoon",
      correct: "Harivariva",
      choices: ["Harivariva", "Folakandro", "Matsagna"]
    },
    {
      id: "tsm_night",
      col: "tsm",
      label: "Night",
      correct: "Alina",
      choices: ["Alina", "Harivariva"]
    },
    {
      id: "tsm_yesterday",
      col: "tsm",
      label: "Yesterday",
      correct: "Nomoaligny",
      choices: ["Nomoaligny", "Niany", "Amarainy"]
    },
    {
      id: "tsm_today",
      col: "tsm",
      label: "Today",
      correct: "Niany",
      choices: ["Niany", "Amarainy", "Nomoaligny"]
    },
    {
      id: "tsm_tomorrow",
      col: "tsm",
      label: "Tomorrow",
      correct: "Amarainy",
      choices: ["Amarainy", "Niany", "Nomoaligny"]
    }
  ];

  const l1bOffCol = document.getElementById("l1b-official-col");
  const l1bTsmCol = document.getElementById("l1b-tsm-col");

  // helper to shuffle an array
  function shuffleArray(arr) {
    return arr
      .map(x => ({ val: x, r: Math.random() }))
      .sort((a,b) => a.r - b.r)
      .map(x => x.val);
  }

  // 2. render function
  function renderTimeQuiz() {
    // clear columns except headings
    l1bOffCol.querySelectorAll(".l1b-field").forEach(el => el.remove());
    l1bTsmCol.querySelectorAll(".l1b-field").forEach(el => el.remove());

    l1bTimeFields.forEach(field => {
      const wrapper = document.createElement("div");
      wrapper.className = "mb-2 l1b-field";
      wrapper.innerHTML = `${field.label} → `;
      const select = document.createElement("select");
      select.className = "form-select d-inline-block w-auto";
      select.name = field.id;

      // make a fresh shuffled copy of choices
      const shuffledChoices = shuffleArray(field.choices.slice());
      // add placeholder
      const optPlaceholder = document.createElement("option");
      optPlaceholder.value = "";
      optPlaceholder.textContent = "—";
      select.appendChild(optPlaceholder);
      // add choices
      shuffledChoices.forEach(choice => {
        const opt = document.createElement("option");
        opt.value = choice;
        opt.textContent = choice;
        select.appendChild(opt);
      });

      wrapper.appendChild(select);

      if (field.col === "off") {
        l1bOffCol.appendChild(wrapper);
      } else {
        l1bTsmCol.appendChild(wrapper);
      }
    });

    // clear result text
    document.getElementById("l1b-time-result").textContent = "";
  }

  // 3. check function
  document.getElementById("l1b-time-check").onclick = () => {
    const form = document.getElementById("l1b-time-quiz");
    let score = 0;
    const total = l1bTimeFields.length;

    l1bTimeFields.forEach(field => {
      const sel = form[field.id];
      // remove old borders
      sel.classList.remove("border-success","border-danger");
      const val = (sel.value || "").trim();
      if (val === field.correct) {
        score++;
        sel.classList.add("border-success");
      } else {
        sel.classList.add("border-danger");
      }
    });

    document.getElementById("l1b-time-result").textContent =
      `You got ${score} / ${total} correct.`;
  };

  // 4. scramble button
  document.getElementById("l1b-time-scramble").onclick = () => {
    renderTimeQuiz();
  };

  // initial render
  renderTimeQuiz();
</script>


    <!--quiz3-->
    
   <section class="mb-5" id="l1b-quiz3">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <h2 class="h5 mb-3">Quiz 3: Days of the week</h2>
      <p class="mini mb-3">Choose the correct day in Official and Tsimihety. You can reshuffle the options.</p>

      <form id="l1b-days-quiz">
        <div class="row g-4">
          <!-- OFFICIAL -->
          <div class="col-12 col-md-6" id="l1b-days-off">
            <h6 class="mb-2 text-primary">Official Malagasy</h6>
            <!-- JS injects fields here -->
          </div>
          <!-- TSIMIHETY -->
          <div class="col-12 col-md-6" id="l1b-days-tsm">
            <h6 class="mb-2 text-success">Tsimihety</h6>
            <!-- JS injects fields here -->
          </div>
        </div>

        <button type="button" class="btn btn-primary mt-3 me-2" id="l1b-days-check">Check</button>
        <button type="button" class="btn btn-outline-secondary mt-3" id="l1b-days-scramble">Scramble options</button>
        <p id="l1b-days-result" class="mt-3 fw-bold"></p>
      </form>
    </div>
  </div>
</section>

<script>
  // data from your Lesson 1b table
  const l1bDaysFields = [
    // OFFICIAL
    {
      id: "off_mon",
      col: "off",
      label: "Monday",
      correct: "Alatsinainy",
      choices: ["Alatsinainy","Talata","Alarobia","Alakamisy","Zoma","Asabotsy","Alahady"]
    },
    {
      id: "off_tue",
      col: "off",
      label: "Tuesday",
      correct: "Talata",
      choices: ["Talata","Alatsinainy","Alarobia","Alakamisy","Zoma","Asabotsy","Alahady"]
    },
    {
      id: "off_wed",
      col: "off",
      label: "Wednesday",
      correct: "Alarobia",
      choices: ["Alarobia","Talata","Alakamisy","Zoma","Asabotsy","Alahady"]
    },
    {
      id: "off_thu",
      col: "off",
      label: "Thursday",
      correct: "Alakamisy",
      choices: ["Alakamisy","Alarobia","Zoma","Asabotsy","Alahady"]
    },
    {
      id: "off_fri",
      col: "off",
      label: "Friday",
      correct: "Zoma",
      choices: ["Zoma","Alakamisy","Asabotsy","Alahady"]
    },
    {
      id: "off_sat",
      col: "off",
      label: "Saturday",
      correct: "Asabotsy",
      choices: ["Asabotsy","Zoma","Alahady"]
    },
    {
      id: "off_sun",
      col: "off",
      label: "Sunday",
      correct: "Alahady",
      choices: ["Alahady","Asabotsy","Zoma"]
    },

    // TSIMIHETY
    {
      id: "tsm_mon",
      col: "tsm",
      label: "Monday",
      correct: "Tinainy",
      choices: ["Tinainy","Talata","Robia","Kamisy","Zoma","Sabotsy","Lahady/Dimansy"]
    },
    {
      id: "tsm_tue",
      col: "tsm",
      label: "Tuesday",
      correct: "Talata",
      choices: ["Talata","Tinainy","Robia","Kamisy","Zoma","Sabotsy","Lahady/Dimansy"]
    },
    {
      id: "tsm_wed",
      col: "tsm",
      label: "Wednesday",
      correct: "Robia",
      choices: ["Robia","Talata","Kamisy","Zoma","Sabotsy","Lahady/Dimansy"]
    },
    {
      id: "tsm_thu",
      col: "tsm",
      label: "Thursday",
      correct: "Kamisy",
      choices: ["Kamisy","Robia","Zoma","Sabotsy","Lahady/Dimansy"]
    },
    {
      id: "tsm_fri",
      col: "tsm",
      label: "Friday",
      correct: "Zoma",
      choices: ["Zoma","Kamisy","Sabotsy","Lahady/Dimansy"]
    },
    {
      id: "tsm_sat",
      col: "tsm",
      label: "Saturday",
      correct: "Sabotsy",
      choices: ["Sabotsy","Zoma","Lahady/Dimansy"]
    },
    {
      id: "tsm_sun",
      col: "tsm",
      label: "Sunday",
      correct: "Lahady/Dimansy",
      choices: ["Lahady/Dimansy","Sabotsy","Zoma"]
    }
  ];

  const l1bDaysOffCol = document.getElementById("l1b-days-off");
  const l1bDaysTsmCol = document.getElementById("l1b-days-tsm");

  function shuffleList(arr) {
    return arr
      .map(x => ({ v: x, r: Math.random() }))
      .sort((a,b) => a.r - b.r)
      .map(x => x.v);
  }

  function renderL1bDaysQuiz() {
    // remove previously rendered fields
    l1bDaysOffCol.querySelectorAll(".l1b-day-field").forEach(el => el.remove());
    l1bDaysTsmCol.querySelectorAll(".l1b-day-field").forEach(el => el.remove());

    l1bDaysFields.forEach(field => {
      const wrapper = document.createElement("div");
      wrapper.className = "mb-2 l1b-day-field";
      wrapper.innerHTML = `${field.label} → `;

      const sel = document.createElement("select");
      sel.className = "form-select d-inline-block w-auto";
      sel.name = field.id;

      // placeholder
      const optEmpty = document.createElement("option");
      optEmpty.value = "";
      optEmpty.textContent = "—";
      sel.appendChild(optEmpty);

      // shuffled choices
      const shuffled = shuffleList(field.choices.slice());
      shuffled.forEach(choice => {
        const opt = document.createElement("option");
        opt.value = choice;
        opt.textContent = choice;
        sel.appendChild(opt);
      });

      wrapper.appendChild(sel);

      if (field.col === "off") {
        l1bDaysOffCol.appendChild(wrapper);
      } else {
        l1bDaysTsmCol.appendChild(wrapper);
      }
    });

    document.getElementById("l1b-days-result").textContent = "";
  }

  // check button
  document.getElementById("l1b-days-check").onclick = () => {
    const form = document.getElementById("l1b-days-quiz");
    let score = 0;
    const total = l1bDaysFields.length;

    l1bDaysFields.forEach(field => {
      const sel = form[field.id];
      sel.classList.remove("border-success","border-danger");
      const val = (sel.value || "").trim();
      if (val === field.correct) {
        score++;
        sel.classList.add("border-success");
      } else {
        sel.classList.add("border-danger");
      }
    });

    document.getElementById("l1b-days-result").textContent =
      `You got ${score} / ${total} correct.`;
  };

  // scramble button
  document.getElementById("l1b-days-scramble").onclick = () => {
    renderL1bDaysQuiz();
  };

  // initial render
  renderL1bDaysQuiz();
</script>

    <!--quiz 4-->

    <section class="mb-5" id="l1b-quiz4a">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <h2 class="h5 mb-3">Quiz 4a: Listening – common goodbyes</h2>
      <p class="mini mb-3">Listen and tick the lines you heard.</p>
      <audio controls class="w-100 mb-3">
        <source src="/audio/introduction/lesson1bcon1.mp3" type="audio/mpeg" />
      </audio>

      <form id="l1b-listen1">
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="veloma" id="l1bq4a1">
          <label class="form-check-label" for="l1bq4a1">Veloma tompoko</label>
        </div>
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="velomae" id="l1bq4a2">
          <label class="form-check-label" for="l1bq4a2">Veloma e</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" value="mazotoa" id="l1bq4a3">
          <label class="form-check-label" for="l1bq4a3">Mazotoa</label>
        </div>

        <!-- distractors -->
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="rehefa" id="l1bq4a4">
          <label class="form-check-label" for="l1bq4a4">Rehefa avy eo</label>
        </div>
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="mandr" id="l1bq4a5">
          <label class="form-check-label" for="l1bq4a5">Mandrapihaona</label>
        </div>

        <button type="button" class="btn btn-primary mt-3" id="l1b-listen1-check">Check</button>
        <p id="l1b-listen1-result" class="mt-3 fw-bold"></p>
      </form>
    </div>
  </div>
</section>

<script>
  const l1bListen1Correct = new Set(["veloma","velomae","mazotoa"]);

  document.getElementById('l1b-listen1-check').onclick = () => {
    const form = document.getElementById('l1b-listen1');
    const checks = form.querySelectorAll('.form-check-input');
    let correct = 0, wrong = 0;
    checks.forEach(ch => {
      const good = l1bListen1Correct.has(ch.value);
      ch.parentElement.classList.remove('border','border-success','border-danger','rounded');
      if (ch.checked && good) {
        correct++; ch.parentElement.classList.add('border','border-success','rounded');
      } else if (ch.checked && !good) {
        wrong++; ch.parentElement.classList.add('border','border-danger','rounded');
      }
    });
    document.getElementById('l1b-listen1-result').textContent =
      `You picked ${correct}/${l1bListen1Correct.size} correct and ${wrong} wrong.`;
  };
</script>
<section class="mb-5" id="l1b-quiz4b">
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <h2 class="h5 mb-3">Quiz 4b: Listening – “see you … koa”</h2>
      <p class="mini mb-3">Listen and tick every line you heard.</p>
      <!-- you can change to con2.mp3 or con5.mp3 depending on what you actually record -->
      <audio controls class="w-100 mb-3">
        <source src="/audio/introduction/lesson1bcon5.mp3" type="audio/mpeg" />
      </audio>

      <form id="l1b-listen2">
        <!-- real patterns from your section -->
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="harivariva" id="l1bq4b1">
          <label class="form-check-label" for="l1bq4b1">Veloma / Mazotoa harivariva koa</label>
        </div>
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="amarainy" id="l1bq4b2">
          <label class="form-check-label" for="l1bq4b2">Veloma / Mazotoa rahampitso / amarainy koa</label>
        </div>
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="alarobia" id="l1bq4b3">
          <label class="form-check-label" for="l1bq4b3">Veloma / Mazotoa Alarobia koa</label>
        </div>
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="aminnyalina" id="l1bq4b4">
          <label class="form-check-label" for="l1bq4b4">Amin’ny alina koa</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" value="talata" id="l1bq4b5">
          <label class="form-check-label" for="l1bq4b5">Talata koa</label>
        </div>

        <!-- distractors -->
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="rehefa" id="l1bq4b6">
          <label class="form-check-label" for="l1bq4b6">Rehefa avy eo</label>
        </div>
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="mandr" id="l1bq4b7">
          <label class="form-check-label" for="l1bq4b7">Mandrapihaona</label>
        </div>

        <button type="button" class="btn btn-primary mt-3" id="l1b-listen2-check">Check</button>
        <p id="l1b-listen2-result" class="mt-3 fw-bold"></p>
      </form>
    </div>
  </div>
</section>

<script>
  const l1bListen2Correct = new Set([
    "harivariva",
    "amarainy",
    "alarobia",
    "aminnyalina",
    "talata",
    "Reheva avy eo",
    "Mandrapihaona"
  ]);

  document.getElementById('l1b-listen2-check').onclick = () => {
    const form = document.getElementById('l1b-listen2');
    const checks = form.querySelectorAll('.form-check-input');
    let correct = 0, wrong = 0;
    checks.forEach(ch => {
      const good = l1bListen2Correct.has(ch.value);
      ch.parentElement.classList.remove('border','border-success','border-danger','rounded');
      if (ch.checked && good) {
        correct++; ch.parentElement.classList.add('border','border-success','rounded');
      } else if (ch.checked && !good) {
        wrong++; ch.parentElement.classList.add('border','border-danger','rounded');
      }
    });
    document.getElementById('l1b-listen2-result').textContent =
      `You picked ${correct}/${l1bListen2Correct.size} correct and ${wrong} wrong.`;
  };
</script>


    <!-- DOWNLOAD PDF -->
    <div class="text-center my-4">
      <p class="mini">You can also download this lesson as a PDF for offline study:</p>
      <a class="btn btn-outline-secondary" href="/introduction/introlesson1bgoodbye.pdf" target="_blank" rel="noopener">Download PDF</a>
    </div>

    <!-- PREV / NEXT for 7 lessons -->
    <div class="d-flex justify-content-between mb-5">
      <a href="/introduction/introlesson1agreetings.html">&laquo; Previous: Lesson 1a – Greetings</a>
      <a href="/introduction/introlesson2usefulexpressions.html">Next: Lesson 2 – Useful Expressions</a>

    </div>
  </main>

  <div id="footer"></div>
  <script>
    (async () => {
      try {
        const header = document.getElementById('header');
        const footer = document.getElementById('footer');
        if (header) {
          const h = await fetch('/header.html');
          if (h.ok) header.innerHTML = await h.text();
        }
        if (footer) {
          const f = await fetch('/footer.html');
          if (f.ok) footer.innerHTML = await f.text();
        }
      } catch(e) { /* no-op */ }
    })();
  </script>
</body>
</html>
